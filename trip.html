<html>

<head>
	<meta charset="UTF8" />
	<title>Trip Translator</title>
	<link rel="icon" href="https://common.ets2mcg.com/img/favicon.ico" type="image/x-icon">
	<meta name="theme-color" content="#f7d331">
	<script src="js/jquery-3.5.1.min.js"></script>
	<script src="https://twemoji.maxcdn.com/v/latest/twemoji.min.js" crossorigin="anonymous"></script>
	<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100;300;400;500;700;900&display=swap"
		rel="stylesheet">
	<style>
		:root {
			font-family: 'Noto Sans KR', sans-serif;
		}

		#input {
			height: 500px;
			margin: 0 auto;
			display: block;
		}

		.marginVert {
			margin: 10px 0px;
		}

		.pageBlock {
			width: 100%;
		}

		body {
			background-color: #ffffff;
			margin: 0;
		}

		button {
			padding: 20px 0px;
		}

		div.page {
			margin: 0 auto;
			padding: 50px 100px;
			width: calc(1000px - 200px);
			background-color: #ababab;
		}

		h1 {
			padding: 0px;
			margin: 0px;
		}

		img.emoji {
			height: 1em;
			width: 1em;
			margin: 0 .05em 0 .1em;
			vertical-align: -0.1em;
		}

		textarea {
			background-color: white;
			color: black;
		}

		.wordElem {
			display: inline-block;
		}

		@media (max-width: 1200px) {
			div.page {
				padding: 50px;
				width: calc(100% - 100px);
			}
		}

		@media (prefers-color-scheme: dark) {
			:root {
				color: white;
			}

			body {
				background-color: #000000;
			}

			div.page {
				background-color: #333333;
			}

			textarea {
				background-color: black;
				color: white;
			}
		}
	</style>
</head>

<body>
	<div class="page">
		<h1 class="emojiIncluded">Auto trip translator for MCG ğŸ‡°ğŸ‡·</h1>
		<h2>Trip Route Text Here</h2>
		<textarea id="input" class="pageBlock" placeholder="Put trip route text here"></textarea>
		<button id="process" type="submit" class="marginVert pageBlock">Process!</button>
		<div id="result" style="display: none;">
			<h2>Result here</h2>

		</div>
	</div>
	<script>
		const artChars = "â–€â–ˆ";
		const keywords = new Map();
		function put(key, val) {
			keywords.set(key, val);
		}
		//City Names
		put("Amsterdam", "ì•”ìŠ¤í…Œë¥´ë‹´");
		put("Bern", "ë² ë¥¸");
		put("Berlin", "ë² ë¥¼ë¦°");
		put("Bremen", "ë¸Œë ˆë©˜");
		put("Calais", "ì¹¼ë ˆ");
		put("Carlisle", "ì¹¼ë¼ì¼");
		put("Cologne", "ì¾°ë¥¸");
		put("Dijon", "ë””ì¢…");
		put("Dortmund", "ë„ë¥´íŠ¸ë¬¸íŠ¸");
		put("Dover", "ë„ë²„");
		put("Duisburg", "ë’¤ìŠ¤ë¶€ë¥´í¬");
		put("Dusseldorf", "ë’¤ì…€ë„ë¥´í”„");
		put("Erfurt", "ì—ë¥´í‘¸ë¥´íŠ¸");
		put("Frankfurt am Main", "í”„ë‘í¬í‘¸ë¥´íŠ¸ ì•” ë§ˆì¸");
		put("Frankfurt", "í”„ë‘í¬í‘¸ë¥´íŠ¸");
		put("Graz", "ê·¸ë¼ì¸ ");
		put("Hamburg", "í•¨ë¶€ë¥´í¬");
		put("Hannover", "í•˜ë…¸ë²„");
		put("Innsbruck", "ì¸ìŠ¤ë¸Œë£¨í¬");
		put("Klagenfurt", "í´ë¼ê²í‘¸ë¥´íŠ¸");
		put("London", "ëŸ°ë˜");
		put("Luxembourg", "ë£©ì…ˆë¶€ë¥´í¬");
		put("Lyon", "ë¦¬ì˜¹");
		put("Mannheim", "ë§Œí•˜ì„");
		put("Metz", "ë©”ìŠ¤");
		put("Milan", "ë°€ë¼ë…¸");
		put("Munich", "ë®Œí—¨");
		put("Nuremberg", "ë‰˜ë¥¸ë² ë¥´í¬");
		put("Paris", "íŒŒë¦¬");
		put("Prague", "í”„ë¼í•˜");
		put("Reims", "ë­ìŠ¤");
		put("Rotterdam", "ë¡œí…Œë¥´ë‹´");
		put("Salzburg", "ì˜ì¸ ë¶€ë¥´í¬");
		put("Strasbourg", "ìŠ¤íŠ¸ë¼ìŠ¤ë¶€ë¥´");
		put("Szczecin", "ìŠˆì²´ì¹œ");
		put("Venice", "ë² ë„¤ì¹˜ì•„");
		put("Verona", "ë² ë¡œë‚˜");
		put("Zurich", "ì·¨ë¦¬íˆ");
		put("Stuttgart", "ìŠˆíˆ¬íŠ¸ê°€ë¥´íŠ¸");

		//Company Names
		put("Quarry", "ì±„ì„ì¥");
		put("Service", "ì •ë¹„ì†Œ");
		put("Car Parking", "ì£¼ì°¨ì¥");
		put("LKW", "LKS");
		put("Strokes", "ë°œì‘");
		put("Port calais", "ì¹¼ë ˆ í•­êµ¬");
		put("Port Calais", "ì¹¼ë ˆ í•­êµ¬");
		put("Port dover", "ë„ë²„ í•­êµ¬");
		put("Port Dover", "ë„ë²„ í•­êµ¬");

		//Month Names
		put("January", "01");
		put("February", "02");
		put("March", "03");
		put("April", "04");
		put("May", "05");
		put("June", "06");
		put("July", "07");
		put("August", "08");
		put("September", "09");
		put("October", "10");
		put("November", "11");
		put("December", "12");

		//Color Names
		put("Blue", "íŒŒë€ìƒ‰");
		put("Red", "ë¹¨ê°„ìƒ‰");
		put("Green", "ì´ˆë¡ìƒ‰");
		put("Orange", "ì£¼í™©ìƒ‰");
		put("White", "í°ìƒ‰");

		//Other Texts
		put("(Gas Station)", "(ì£¼ìœ ì†Œ)");
		put("Point 1 and 3", "1, 3 í¬ì¸íŠ¸");

		function translateWords(text) {
			var text0 = "";
			text0 = text;
			for (let v of keywords.keys()) {
				while (text0.includes(v))
					text0 = text0.replace(v, keywords.get(v));
			}
			return text0;
		}
		function isArtLine(text) {
			var strText = "";
			strText = text;
			for (let i = 0; i < strText.length; i++) {
				if (artChars.includes(strText.charAt(i))) {
					return true;
				}
			}
			return false;
		}
		$(document).ready(() => {
			$(".emojiIncluded").each((_, elem) => {
				twemoji.parse(elem), {
					folder: 'svg',
					ext: 'svg'
				};
			})

			$("#process").click(() => {
				var resultDiv = $("#result");
				resultDiv.empty();
				resultDiv.show();

				var text = "";
				text = $("#input").val().trim();

				var buffer = "";

				function appendText() {
					let n = $("<div />").text(buffer).addClass("wordElem");
					resultDiv.append(n);
					resultDiv.append($("<div />").html("&nbsp;").addClass("wordElem"));
					buffer = "";
				}

				function appendLine() {
					resultDiv.append($("<br />"));
				}

				var lines = text.split('\n');
				function processLine(i) {
					let curLine = lines[i];
					if (isArtLine(curLine)) {
						buffer = curLine;
						appendText();
						appendLine();
						continue;
					} else if (curLine.includes("Notified") || curLine.includes("@everyone")) {
						buffer = "<@666307984644898826>";
						appendText();
						appendLine();
						continue;
					} else if (curLine.match(/.*â˜…\s*ETS2MCG [tT][hH][eE] [tT][rR][iI][pP] [oO][nN] (.*[dD][aA][yY])\s*â˜….*/)) {
						let dayName = curLine.match(/.*â˜…\s*ETS2MCG [tT][hH][eE] [tT][rR][iI][pP] [oO][nN] (.*[dD][aA][yY])\s*â˜….*/)[1].toLowerCase();
						if (dayName === "sunday") {
							dayName = "ì¼ìš”ì¼";
						} else if (dayName === "monday") {
							dayName = "ì›”ìš”ì¼";
						} else if (dayName === "tuesday") {
							dayName = "í™”ìš”ì¼";
						} else if (dayName === "wednesday") {
							dayName = "ìˆ˜ìš”ì¼";
						} else if (dayName === "thursday") {
							dayName = "ëª©ìš”ì¼";
						} else if (dayName === "friday") {
							dayName = "ê¸ˆìš”ì¼";
						} else if (dayName === "saturday") {
							dayName = "í† ìš”ì¼";
						}
						buffer = "â˜… ETS2MCG " + dayName + " ì—¬í–‰ â˜…";
						appendText();
						appendLine();
						continue;
					} else if (curLine.includes("ETS2MCG Team Convoy")) {
						buffer = "â˜… ETS2MCG íŒ€ ì»¨ë³´ì´ â˜…";
						appendText();
						appendLine();
						continue;
					} else if (curLine.includes("â˜…") && (curLine.includes("Convoy") || curLine.includes("DLC") || curLine.includes("Trip"))) {
						buffer = curLine;
						appendText();
						appendLine();
						continue;
					}

					if (curLine.startsWith("Date:")) {
						let date = curLine.substring(5).trim();
						let dates = date.split(" ");
						if (dates.length == 3) {
							let year = dates[2];
							let month = dates[1];
							let day = dates[0];

							if (day.length == 1) day = "0" + day;
							curLine = "ë‚ ì§œ: " + year + "-" + month + "-" + day;
						} else {
							curLine = "ë‚ ì§œ: " + date;
						}
					} else if (curLine.startsWith("Route:")) {
						curLine = "ê²½ë¡œ:" + curLine.substring(6);
					} else if (curLine.startsWith("Start:")) {
						curLine = "ì¶œë°œ:" + curLine.substring(6);
					} else if (curLine.startsWith("Stop:")) {
						curLine = "ì •ì°¨:" + curLine.substring(5);
					} else if (curLine.startsWith("Finish:")) {
						curLine = "ë„ì°©:" + curLine.substring(7);
					} else if (curLine.startsWith("Truck:")) {
						curLine = "íŠ¸ëŸ­:" + curLine.substring(6);
					} else if (curLine.startsWith("Trailer:")) {
						let data = curLine.substring(8);
						if (data.includes("Own Trailer")) {
							data = " ììœ ";
						}
						curLine = "íŠ¸ë ˆì¼ëŸ¬:" + data;
					} else if (curLine.startsWith("Skin:")) {
						curLine = "ìŠ¤í‚¨:" + curLine.substring(5);
					} else if (curLine.startsWith("Server:")) {
						curLine = "ì„œë²„:" + curLine.substring(7);
					} else if (curLine.startsWith("Chassis:")) {
						curLine = "ì„€ì‹œ:" + curLine.substring(8);
					} else if (curLine.startsWith("Classic:")) {
						curLine = "(ì„€ì‹œë¼ê³  ì¨ì•¼ë˜ëŠ”ë° ë˜ í´ë˜ì‹ì´ë¼ ì¼ìŒ)í´ë˜ì‹:" + curLine.substring(8);
					} else if (curLine.startsWith("Time:")) {
						curLine = "ì‹œê°„: 22:00";
						buffer = curLine;
						appendText();
						appendLine();
						break;
					} else if (curLine.startsWith("- Truck: ")) {
						curLine = "- íŠ¸ëŸ­: " + curLine.substring(9);
					} else if (curLine.startsWith("- Trailer: ")) {
						curLine = "- íŠ¸ë ˆì¼ëŸ¬: " + curLine.substring(11);
					} else if (curLine.includes("Truck") && curLine.includes("Trailer") && curLine.includes("Skin") && curLine.includes("Free")) {
						curLine = "íŠ¸ëŸ­, íŠ¸ë ˆì¼ëŸ¬, ìŠ¤í‚¨: ììœ  (MCG Korea ìŠ¤í‚¨ ì‚¬ìš© ê°€ëŠ¥ <#703089691863285821>)";
					}

					curLine = translateWords(curLine);
					buffer = curLine;
					appendText();
					appendLine();
				}
				function d(i) {
					if (i < lines.length) {
						processLine(i);
						setTimeout(() => d(i + 1), 50);
					}
				}
				d(0);  
				if (buffer.length !== 0) append();
			})
		})
	</script>
</body>

</html>